{"ast":null,"code":"import _slicedToArray from\"/Users/isaferrara/Desktop/Flink-intv/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Redirect}from\"react-router-dom\";import axios from'axios';import{Card,Logo,Form,Input,Button,Error,HPLogin}from\"../components/AuthForms\";import{useAuth}from\"../context/auth\";function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedInAdmin=_useState2[0],setLoggedInAdmin=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoggedInStud=_useState4[0],setLoggedInStud=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUserName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useAuth=useAuth(),setAuthTokens=_useAuth.setAuthTokens;var axiosConfig={headers:{'Access-Control-Allow-Origin':'http://localhost:3000','Content-Type':\"application/json, text/plain, */*\",'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE'}};var info={user:user,password:password};function postLogin(){axios({url:\"http://ec2-52-37-61-68.us-west-2.compute.amazonaws.com:1234/api/v1/challenge/login\",method:'POST',data:info,axiosConfig:axiosConfig}).then(function(result){if(result.status===200&&result.data.staff===true){setAuthTokens(result.data);setLoggedInAdmin(true);}else if(result.status===200&&result.data.staff===false){setAuthTokens(result.data);setLoggedInStud(true);}else{setIsError(true);}}).catch(function(e){setIsError(true);});}if(isLoggedInAdmin){console.log('admin');return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin\"});}else if(isLoggedInStud){console.log('stud');return/*#__PURE__*/React.createElement(Redirect,{to:\"/student\"});}return/*#__PURE__*/React.createElement(HPLogin,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Logo,{src:'https://i.pinimg.com/originals/1e/39/03/1e390396d7381a36a73407df5cc02fb1.png'}),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Input,{type:\"user\",value:user,onChange:function onChange(e){setUserName(e.target.value);},placeholder:\"user\"}),/*#__PURE__*/React.createElement(Input,{type:\"password\",value:password,onChange:function onChange(e){setPassword(e.target.value);},placeholder:\"password\"}),/*#__PURE__*/React.createElement(Button,{onClick:postLogin},\"Login\")),isError&&/*#__PURE__*/React.createElement(Error,null,\"The username or password provided are incorrect!\")));}export default Login;","map":{"version":3,"sources":["/Users/isaferrara/Desktop/Flink-intv/frontend/src/pages/Login.js"],"names":["React","useState","Redirect","axios","Card","Logo","Form","Input","Button","Error","HPLogin","useAuth","Login","props","isLoggedInAdmin","setLoggedInAdmin","isLoggedInStud","setLoggedInStud","isError","setIsError","user","setUserName","password","setPassword","setAuthTokens","axiosConfig","headers","info","postLogin","url","method","data","then","result","status","staff","catch","e","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Card, Logo, Form, Input, Button, Error, HPLogin } from \"../components/AuthForms\";\nimport { useAuth } from \"../context/auth\";\n\nfunction Login(props) {\n  const [isLoggedInAdmin, setLoggedInAdmin] = useState(false);\n  const [isLoggedInStud, setLoggedInStud] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [user, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { setAuthTokens } = useAuth();\n\n  let axiosConfig = {\n    headers: {\n      'Access-Control-Allow-Origin': 'http://localhost:3000',\n      'Content-Type': \"application/json, text/plain, */*\",\n      'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE'\n    }\n  };\n\n  const info ={\n    user:user,\n    password: password\n  }\n\n  function postLogin() {\n    axios({url:\"http://ec2-52-37-61-68.us-west-2.compute.amazonaws.com:1234/api/v1/challenge/login\", \n    method: 'POST', \n    data: info,\n    axiosConfig\n  }).then(result => {\n      if ( result.status===200 && result.data.staff===true) {\n        setAuthTokens(result.data);\n        setLoggedInAdmin(true);\n      }else if(result.status===200 && result.data.staff===false){\n        setAuthTokens(result.data);\n        setLoggedInStud(true)\n      }else{\n        setIsError(true);\n      }\n    }).catch(e => {\n      setIsError(true);\n    });\n  }\n\n  if (isLoggedInAdmin){\n    console.log('admin');\n    return <Redirect to='/admin'/>\n  }else if (isLoggedInStud){\n    console.log('stud');\n    return <Redirect to='/student'/>\n  }\n\n\n  return (\n    <HPLogin>\n    <Card>\n      <Logo src={'https://i.pinimg.com/originals/1e/39/03/1e390396d7381a36a73407df5cc02fb1.png'} />\n      <Form>\n        <Input\n          type=\"user\"\n          value={user}\n          onChange={ e => {\n            setUserName(e.target.value);\n          }}\n          placeholder=\"user\"\n        />\n        <Input\n          type=\"password\"\n          value={password}\n          onChange={e => {\n            setPassword(e.target.value);\n          }}\n          placeholder=\"password\"\n        />\n        <Button onClick={postLogin}>Login</Button>\n      </Form>\n        { isError &&<Error>The username or password provided are incorrect!</Error> }\n    </Card>\n    </HPLogin>\n  );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}